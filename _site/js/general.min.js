var sitePrefix = "/frontlinefit";

$(".do-submitBioSig").on("click", function(a) {
    a.preventDefault();
    var b = $(this);
    $.getJSON(sitePrefix + "/js/biosig/" + $(this).data("questions") + ".json?" + Date.now(), function(a) {
        var c = a, d = $("input:checked"), e = [], f = {};
        d.each(function() {
            var a = $(this);
            f[a.val()] = !0;
            var b = c.content[c.answers[a.val()][a.attr("name")]] + "<br/>";
            if (Array.isArray(b)) for (var d in b) -1 == e.indexOf(b) && e.push(b); else -1 == e.indexOf(b) && e.push(b);
            if (c.answers[a.val()].pairs) {
                var g = c.answers[a.val()].pairs;
                for (var h in g) {
                    var i = c.content[g[h]] + "<br/>";
                    f[h] && -1 == e.indexOf(i) && e.push(i);
                }
            }
        }), $("#bioSigOutput").append(e);
        var g = $("#tableHeader"), h = $("table");
        h.empty(), g.appendTo(h);
        for (var i in c.nextQuestions) {
            var j = $("<tr/>");
            $("<td/>", {
                html: c.nextQuestions[i]
            }).appendTo(j), $("<td/>", {
                html: $("<input/>", {
                    "class": "radio",
                    type: "radio",
                    name: "a",
                    value: i
                })
            }).appendTo(j), $("<td/>", {
                html: $("<input/>", {
                    "class": "radio",
                    type: "radio",
                    name: "b",
                    value: i
                })
            }).appendTo(j), $("<td/>", {
                html: $("<input/>", {
                    "class": "radio",
                    type: "radio",
                    name: "c",
                    value: i
                })
            }).appendTo(j), j.appendTo(h);
        }
        b.data("questions", b.data("questions") + 1);
    });
});